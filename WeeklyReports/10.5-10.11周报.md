```
本周继续阅读论文Faster R-CNN，汇总的阅读笔记如下。
```



# 学习论文[Faster R-CNN](https://arxiv.org/abs/1504.08083)

## 1 摘要&介绍

- Fast R-CNN仍然存在耗时的问题——区域建议的计算selective search
- 提出Region Proposal Network（RPN），和检测网络共享全图的卷积特征 -> 使得区域建议生成基本无成本
  - RPN是全卷积网络，预测每个位置的目标的边界和分数
  - RPN通过端到端的训练，生成高质量的区域建议
- 通过共享卷积特征，将RPN和Fast R-CNN整合成一个简单的网络
  - 使用“attention”机制

## 2 相关工作

### (1) 目标建议

​	广泛使用的目标建议方法：

- 基于超像素分组的方法，如
  - **selective search**
  - CPMC
  - MCG
- 基于滑动窗口的方法，如
  - objectness in windows
  - EdgeBoxes

### (2) 目标检测的深度网络

- R-CNN对CNN进行端到端的训练，将建议的区域分类（目标类别/背景）
- R-CNN主要起到分类器的作用，但并不预测目标的边界

## 3 Faster R-CNN

​	Faster R-CNN有两个模块组成：

- 生成区域建议的深度全卷积网络
- Fast R-CNN检测器

### (1) Region Proposal Network（RPN）

<img src="E:/DeepLearning/Figures/R-CNN/Faster R-CNN.JPG" style="zoom:67%;" />

- RPN输入任意大小的图像，输出一组矩形的区域建议（含有目标分数）
- 在最后一个共享卷积层输出的特征图上，滑动一个小网络来生成区域建议
  - 每个滑动窗口映射出低维的特征
  - 输出的特征属兔到两个滑动全连接网络：包围盒回归（reg）和包围盒分类（cls）

#### ① anchors

<img src="E:/DeepLearning/Figures/R-CNN/RPN.JPG" style="zoom:67%;" />

- 在每一个滑动窗口的位置，同时预测多个区域建议，每个位置上最大可能的区域建议数量记为k（k个包围盒），则
  - 包围盒回归产生4k个编码的**坐标**
  - 包围盒分类产生2k个分数（预测 是/不是 目标）
- 这k个区域建议视为k个参考框的参数化，称作**anchors**
- anchor位于滑动窗口的中间（如上图右）
- 对每一个W\*H的特征图，一共有W\*H\*k个anchor



#### ② 损失函数

#### ③ RPN的训练

### (2) RPN和Fast R-CNN共享特征

### (3) 实现细节

## 4 实验